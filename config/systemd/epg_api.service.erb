[Unit]
Description = <%= fetch(:application) %> application server
After=network.target

[Service]
WatchdogSec=30
Type=notify
Environment=GO_ENV=<%= fetch(:rack_env) %>
Environment=PWD=<%= current_path %>
EnvironmentFile=<%= shared_path %>/.env
WorkingDirectory = <%= current_path %>
ExecStart = /opt/go/1.13.9/bin/go ./epg_api 
KillMode=mixed
Restart=always

[Install]
# Use default.target to autoboot user service
# https://superuser.com/questions/1025091/start-a-systemd-user-service-at-boot
WantedBy=default.target

[Unit]
Description = <%= fetch(:application) %> application server example1
